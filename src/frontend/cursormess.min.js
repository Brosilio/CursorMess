const CURSORMESS_WEBSOCKET_HOST_ENDPOINT="wss://brosil.io/cursormess",cursorMess={};cursorMess.id=null,cursorMess.cursors={},cursorMess.myCur={x:0,y:0},cursorMess.myLastCurPos={x:0,y:0},cursorMess.ws=new WebSocket("wss://brosil.io/cursormess"),cursorMess.ws.onopen=()=>{console.log("CursorMess connected"),window.Event?(document.captureEvents(Event.MOUSEMOVE),document.onmousemove=a=>{cursorMess.myCur.x=a.pageX,cursorMess.myCur.y=a.pageY}):document.onmousemove=a=>{cursorMess.myCur.x=a.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),cursorMess.myCur.y=a.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)},cursorMess.ws.send(JSON.stringify({c:"j",urlHash:fnv1a_str(document.location.protocol+"//"+document.location.host+document.location.pathname)})),setInterval(()=>{var a=Math.max;let b=cursorMess.myCur;if(b.x!=cursorMess.myLastCurPos.x||b.y!=cursorMess.myLastCurPos.y){let c=JSON.stringify({c:"p",x:100*(cursorMess.myCur.x/a(document.body.clientWidth,window.innerWidth)),y:100*(cursorMess.myCur.y/a(document.body.clientHeight,window.innerHeight))});cursorMess.ws.send(c),cursorMess.myLastCurPos={x:b.x,y:b.y}}},100),setInterval(()=>{cursorMess.ws.send("{ \"c\":\"ping\" }")},1e4)},cursorMess.ws.onmessage=a=>{function b(a){let b=document.createElement("img");b.setAttribute("src","https://brosilio.github.io/fuckyou.png"),b.setAttribute("style",`position: absolute; opacity: 0; transition: 1s linear;`),cursorMess.cursors[a]=b,document.documentElement.appendChild(b)}function c(a){cursorMess.cursors[a].style.opacity="0",setTimeout(()=>{document.documentElement.removeChild(cursorMess.cursors[a])},1e3)}function d(a,b,c){cursorMess.cursors[a].style.left=`${b}%`,cursorMess.cursors[a].style.top=`${c}%`,cursorMess.cursors[a].style.opacity="0.8"}const e=JSON.parse(a.data),f=cursorMess.ws;if(null!=e)switch(e.c){case"pong":case"ping":return;case"p":d(e.id,e.x,e.y);break;case"r":c(e.id);break;case"a":b(e.id);break;case"!":}},cursorMess.ws.onclose=()=>{for(const a in console.log("CursorMess lost connection to server."),cursorMess.cursors)null!=a&&null!=a&&removeCursor(a);setTimeout(()=>{cursorMess.ws=new WebSocket(CURSORMESS_WEBSOCKET_HOST_ENDPOINT)},1e3)};function fnv1a_str(a){let b=2166136261,c=a.length;for(;c--;)b=16777619*(b^a.charCodeAt(c));return b}